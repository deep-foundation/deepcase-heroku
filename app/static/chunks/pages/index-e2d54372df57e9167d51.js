(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{87634:function(n,e,t){"use strict";t.d(e,{Ho:function(){return f},aC:function(){return p}});var i=t(809),r=t.n(i),o=t(92447),l=t(64121),u=t(93633),a=t(79785),s=t(54190),c=t(96212);function d(){return(0,s.useLocalStore)("use_auth_link_id","")}function f(n){var e=n.children,t=d(),i=((0,l.Z)(t,1)[0],(0,a.useTokenController)()),r=(0,l.Z)(i,2);r[0],r[1];return e}function p(){var n=d(),e=(0,l.Z)(n,2),t=e[0],i=e[1],s=(0,a.useTokenController)(),f=(0,l.Z)(s,2),p=f[0],v=f[1],h=(0,u.a)(c.CR,{variables:{},skip:!0});return{token:p,linkId:t,setLinkId:function(){var n=(0,o.Z)(r().mark((function n(e){var t,o,l,u,a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(+e){n.next=4;break}return i(e),v("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsiZ3Vlc3QiXSwieC1oYXN1cmEtZGVmYXVsdC1yb2xlIjoiZ3Vlc3QiLCJ4LWhhc3VyYS11c2VyLWlkIjoiZ3Vlc3QifSwiaWF0IjoxNjIxMzg2MDk2fQ.jwukXmInG4-w_4nObzqvMJZRCd4a1AXnW4cHrNF2xKY"),n.abrupt("return");case 4:return n.next=6,h.refetch({linkId:e,role:"link"});case 6:l=n.sent,console.log({linkId:e,result:l,gql:h}),null!==l&&void 0!==l&&null!==(t=l.data)&&void 0!==t&&null!==(o=t.jwt)&&void 0!==o&&o.token&&(i(e),v(null===l||void 0===l||null===(u=l.data)||void 0===u||null===(a=u.jwt)||void 0===a?void 0:a.token));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}},96212:function(n,e,t){"use strict";t.d(e,{CR:function(){return v},$j:function(){return m},Ar:function(){return _},T8:function(){return b},Yw:function(){return g},hJ:function(){return j},Cl:function(){return y},fl:function(){return k},y1:function(){return Z},kv:function(){return w},Hn:function(){return C},TA:function(){return S},oi:function(){return E},Fp:function(){return I}});var i=t(27261),r=t(31230),o=t(3925);function l(){var n=(0,i.Z)(["mutation UPDATE_STRING($set: string_set_input, $where: string_bool_exp!) { update_string: update_string(_set: $set, where: $where) { returning { id } } }"]);return l=function(){return n},n}function u(){var n=(0,i.Z)(["mutation INSERT_STRING($objects: [string_insert_input!]!) { insert_string: insert_string(objects: $objects) { returning { id } } }"]);return u=function(){return n},n}function a(){var n=(0,i.Z)(["mutation DELETE_LINKS($where: links_bool_exp!) { delete_links: delete_links(where: $where) { returning { id } } }"]);return a=function(){return n},n}function s(){var n=(0,i.Z)(["mutation UPDATE_LINKS($set: links_set_input, $where: links_bool_exp!) { update_links: update_links(_set: $set, where: $where) { returning { id } } }"]);return s=function(){return n},n}function c(){var n=(0,i.Z)(["mutation INSERT_LINKS($objects: [links_insert_input!]!) { insert_links: insert_links(objects: $objects) { returning { id } } }"]);return c=function(){return n},n}function d(){var n=(0,i.Z)(["",""]);return d=function(){return n},n}function f(){var n=(0,i.Z)(["",""]);return f=function(){return n},n}function p(){var n=(0,i.Z)(['query JWT($linkId: Int) {\n  jwt(input: {role: "link", linkId: $linkId}) {\n    linkId\n    token\n    role\n  }\n}']);return p=function(){return n},n}var v=(0,r.default)(p()),h="\nid\ntype_id\ntype {\n  string {\n    value\n  }\n}\nfrom_id\nfrom {\n  string {\n    value\n  }\n}\nto_id\nto {\n  string {\n    value\n  }\n}\nstring {\n  id\n  value\n}\nnumber {\n  id\n  value\n}\nbool_exp {\n  id\n  gql\n}\n_by_root {\n  id\n  item_id\n  path_item_depth\n  path_item_id\n  position_id\n  root_id\n}\n_by_path_item {\n  id\n  item_id\n  path_item_depth\n  path_item_id\n  position_id\n  root_id\n}\n_by_item {\n  id\n  item_id\n  path_item_depth\n  path_item_id\n  position_id\n  root_id\n}\nin { from_id id to_id type_id } out { from_id id to_id type_id }",m="{\n  links {\n    ".concat(h,"\n  }\n}"),x=((0,r.default)(f(),m),"subscription ($where: links_bool_exp){\n  links(where: $where) {\n    ".concat(h,"\n  }\n}")),_=(0,r.default)(d(),x),b=((0,r.default)(c()),(0,r.default)(s()),(0,r.default)(a()),(0,r.default)(u()),(0,r.default)(l()),function(n){return(0,o.generateSerial)({actions:[(0,o.generateMutation)({tableName:"links",operation:"insert",variables:{objects:n}})],name:"INSERT_LINK"})}),g=function(n){return(0,o.generateSerial)({actions:[(0,o.generateMutation)({tableName:"links",operation:"delete",variables:{where:{id:{_eq:n}}}})],name:"DELETE_LINK"})},j=function(n,e){return(0,o.generateSerial)({actions:[(0,o.generateMutation)({tableName:"string",operation:"insert",variables:{objects:{link_id:n,value:e}}})],name:"INSERT_STRING"})},y=function(n,e){return(0,o.generateSerial)({actions:[(0,o.generateMutation)({tableName:"string",operation:"update",variables:{where:{id:{_eq:n}},_set:{value:e}}})],name:"UPDATE_STRING"})},k=function(n){return(0,o.generateSerial)({actions:[(0,o.generateMutation)({tableName:"string",operation:"delete",variables:{where:{id:{_eq:n}}}})],name:"DELETE_STRING"})},Z=function(n,e){return(0,o.generateSerial)({actions:[(0,o.generateMutation)({tableName:"number",operation:"insert",variables:{objects:{link_id:n,value:e}}})],name:"INSERT_NUMBER"})},w=function(n,e){return(0,o.generateSerial)({actions:[(0,o.generateMutation)({tableName:"number",operation:"update",variables:{where:{id:{_eq:n}},_set:{value:e}}})],name:"UPDATE_NUMBER"})},C=function(n){return(0,o.generateSerial)({actions:[(0,o.generateMutation)({tableName:"number",operation:"delete",variables:{where:{id:{_eq:n}}}})],name:"DELETE_NUMBER"})},S=function(n,e){return(0,o.generateSerial)({actions:[(0,o.generateMutation)({tableName:"bool_exp",operation:"insert",variables:{objects:{link_id:n,gql:e}}})],name:"INSERT_BOOL_EXP"})},E=function(n,e){return(0,o.generateSerial)({actions:[(0,o.generateMutation)({tableName:"bool_exp",operation:"update",variables:{where:{id:{_eq:n}},_set:{gql:e}}})],name:"UPDATE_BOOL_EXP"})},I=function(n){return(0,o.generateSerial)({actions:[(0,o.generateMutation)({tableName:"bool_exp",operation:"delete",variables:{where:{id:{_eq:n}}}})],name:"DELETE_BOOL_EXP"})}},54192:function(n,e,t){"use strict";t.d(e,{ei:function(){return w},Cp:function(){return C},zt:function(){return S}});var i=t(85893),r=t(64121),o=t(79785),l=t(23713),u=t(66412),a=t(54190),s=t(3002),c=t(32920),d=t(13457),f=t(40920),p=t(32315),v=t(67294),h=t(87634),m=t(11163),x=t(63282),_=t(31516),b=v.createContext({event:function(n){(0,x.ZP)("reachGoal",n),_.ZP.event({category:"events",action:n})}});var g=function(){var n=(0,m.useRouter)();return(0,v.useEffect)((function(){_.ZP.pageview(null===n||void 0===n?void 0:n.asPath)}),[]),null},j=v.memo((function(n){var e=n.yandexMetrikaAccounts,t=void 0===e?[]:e,r=n.googleAnalyticsAccounts,o=void 0===r?[]:r,l=n.context,u=void 0===l?b:l,a=n.debug,s=void 0!==a&&a,c=n.children;return(0,v.useEffect)((function(){var n=null===o||void 0===o?void 0:o[0];n&&_.ZP.initialize({trackingId:n},{debug:s})}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.OR,{accounts:t,options:{clickmap:!0,webvisor:!0,ecommerce:!0,trackHash:!0,trackLinks:!0,triggerEvent:!0}}),(0,i.jsxs)(u.Provider,{value:{},children:[(0,i.jsx)(g,{}),c]})]})})),y=t(34155),k=((0,c.Z)({}).breakpoints,(0,c.Z)({typography:{fontFamily:["Comfortaa","sans-serif"].join(",")},palette:{type:"dark",background:{default:"#111720",paper:"#00000030"},primary:f.Z,secondary:p.Z},shape:{borderRadius:0},overrides:{MuiButton:{label:{textTransform:"none"}},MuiPaper:{elevation1:{border:"1px dashed #ffffff40"},elevation2:{border:"1px dashed #ffffff60"},elevation3:{border:"1px dashed #ffffff80"},elevation4:{border:"1px dashed #ffffff100"}}},shadows:["none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none"]}));function Z(n){var e=n.children,t=(0,o.useTokenController)(),l=(0,r.Z)(t,2),a=l[0],s=l[1];(0,u.x)();return(0,v.useEffect)((function(){setTimeout((function(){a||s("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsiZ3Vlc3QiXSwieC1oYXN1cmEtZGVmYXVsdC1yb2xlIjoiZ3Vlc3QiLCJ4LWhhc3VyYS11c2VyLWlkIjoiZ3Vlc3QifSwiaWF0IjoxNjIxMzg2MDk2fQ.jwukXmInG4-w_4nObzqvMJZRCd4a1AXnW4cHrNF2xKY")}),0)}),[a]),(0,i.jsx)(h.Ho,{children:e})}var w="".concat(y.env.NEXT_PUBLIC_HASURA_PATH,"/v1/graphql"),C=!!+y.env.NEXT_PUBLIC_HASURA_SSL;function S(n){var e=n.children;return(0,i.jsx)(j,{yandexMetrikaAccounts:[84726091],googleAnalyticsAccounts:["G-DC5RRWLRNV"],children:(0,i.jsx)(d.Z,{theme:k,children:(0,i.jsx)(s.QueryStoreProvider,{children:(0,i.jsx)(a.LocalStoreProvider,{children:(0,i.jsx)(o.TokenProvider,{children:(0,i.jsx)(l.ApolloClientTokenizedProvider,{options:{client:"deeplinks-app",path:w,ssl:C,ws:!(null===y||void 0===y)},children:(0,i.jsx)(Z,{children:e})})})})})})})}},22982:function(n,e,t){"use strict";t.r(e),t.d(e,{AuthPanel:function(){return An},PageConnected:function(){return Wn},PageContent:function(){return Mn},PaperPanel:function(){return Rn},default:function(){return Xn},useOperation:function(){return zn},useSelectedLinks:function(){return Dn}});var i,r,o,l=t(59999),u=t(27261),a=t(809),s=t.n(a),c=t(92447),d=t(85893),f=t(64121),p=t(26265),v=t(85088),h=t(79785),m=t(66412),x=t(54190),_=t(3002),b=t(73430),g=t(89956),j=t(83996),y=t(96486),k=t.n(y),Z=t(67294),w=t(99612),C=t(87634),S=t(96212),E=t(34155);function I(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function P(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?I(Object(t),!0).forEach((function(e){(0,p.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}k().get(E,"browser")?(t(31122).Z,i=t(27803).s6,r=t(27803).f$,t(27803).nS,t(27803).LA,o=function(n){var e=(0,Z.useRef)(),t=(0,Z.useState)(0),r=t[0],o=t[1],l=n.Component||i,u=(0,Z.useCallback)((function(t){var i=(new Date).valueOf(),l=i-r;if(o(i),l<600){var u=1+300/Math.hypot(t.x,t.y,t.z);e.current.cameraPosition({x:t.x*u,y:t.y*u,z:t.z*u},t,1e3)}n.onNodeClick&&n.onNodeClick(t)}),[e,r]);return(0,d.jsx)(l,P(P({ref:e},n),{},{onNodeClick:function(e){u(e),n.onNodeClick&&n.onNodeClick(e)}}))}):(function(){return null},i=function(){return null},r=function(){return null},function(){return null},function(){return null},o=function(){return null});var N=t(18463),O=t(79912),T=t(22318),L=t(35038),R=t(41749),z=t(99513),A=t(7397),D=t(17812),M=t(282),W=t(19302),X=t(55517),B=t(3925);function V(n){n.link;var e=(0,m.x)(),t=Dn(),i=(0,f.Z)(t,2),r=i[0],o=i[1];return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(R.Z,{container:!0,spacing:1,children:(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsx)(M.Z,{size:"small",variant:"outlined",fullWidth:!0,onClick:(0,c.Z)(s().mark((function n(){var t,i,u,a,c,d;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.mutate((0,B.generateSerial)({actions:[(0,B.insertMutation)("links",{objects:{type_id:14,from_id:0,to_id:0}})],name:"INSERT_SUBJECT"}));case 2:c=n.sent,d=null===c||void 0===c||null===(t=c.data)||void 0===t||null===(i=t.m0)||void 0===i||null===(u=i.returning)||void 0===u||null===(a=u[0])||void 0===a?void 0:a.id,o([].concat((0,l.Z)(r),[d]));case 5:case"end":return n.stop()}}),n)}))),children:"+ subject (user)"})})})})}var F=t(26075);function $(n){var e=n.link,t=(0,C.aC)(),i=(0,F.x)(),r=Dn(),o=(0,f.Z)(r,2),u=o[0],a=o[1];return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(R.Z,{container:!0,spacing:1,children:[(null===t||void 0===t?void 0:t.linkId)===(null===e||void 0===e?void 0:e.id)&&(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsx)(M.Z,{size:"small",variant:"outlined",fullWidth:!0,onClick:(0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setLinkId(0);case 1:case"end":return n.stop()}}),n)}))),children:"logout"})}),(null===t||void 0===t?void 0:t.linkId)!==(null===e||void 0===e?void 0:e.id)&&(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsx)(M.Z,{size:"small",variant:"outlined",fullWidth:!0,onClick:(0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setLinkId(null===e||void 0===e?void 0:e.id);case 1:case"end":return n.stop()}}),n)}))),children:"login"})}),(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsx)(M.Z,{size:"small",variant:"outlined",fullWidth:!0,onClick:(0,c.Z)(s().mark((function n(){var t,r,o,l,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.mutate((0,B.generateSerial)({actions:[(0,B.insertMutation)("links",{objects:k().times(6,(function(){return{type_id:6,from_id:0,to_id:0}}))})],name:"INSERT_ANYS"}));case 2:return l=n.sent,u=null===(t=(null===l||void 0===l||null===(r=l.data)||void 0===r||null===(o=r.m0)||void 0===o?void 0:o.returning)||[])||void 0===t?void 0:t.map((function(n){return null===n||void 0===n?void 0:n.id})),n.next=6,i.mutate((0,B.generateSerial)({actions:[(0,B.insertMutation)("links",{objects:[{type_id:13,from_id:null===e||void 0===e?void 0:e.id,to_id:null===u||void 0===u?void 0:u[0]},{type_id:13,from_id:null===e||void 0===e?void 0:e.id,to_id:null===u||void 0===u?void 0:u[1]},{type_id:13,from_id:null===u||void 0===u?void 0:u[0],to_id:null===u||void 0===u?void 0:u[2]},{type_id:13,from_id:null===u||void 0===u?void 0:u[0],to_id:null===u||void 0===u?void 0:u[3]},{type_id:13,from_id:null===u||void 0===u?void 0:u[1],to_id:null===u||void 0===u?void 0:u[4]},{type_id:13,from_id:null===u||void 0===u?void 0:u[1],to_id:null===u||void 0===u?void 0:u[5]}]})],name:"INSERT_ANYS_TREE_LINKS"}));case 6:case"end":return n.stop()}}),n)}))),children:"+ demo subtree"})}),(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsx)(M.Z,{size:"small",variant:"outlined",fullWidth:!0,onClick:(0,c.Z)(s().mark((function n(){var t,r,o,c,d;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.mutate((0,B.generateSerial)({actions:[(0,B.insertMutation)("links",{objects:[{type_id:9,from_id:0,to_id:0},{type_id:7,from_id:0,to_id:0},{type_id:7,from_id:0,to_id:0},{type_id:7,from_id:0,to_id:0}]})],name:"INSERT_RULE"}));case 2:return c=n.sent,d=null===(t=(null===c||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.m0)||void 0===o?void 0:o.returning)||[])||void 0===t?void 0:t.map((function(n){return null===n||void 0===n?void 0:n.id})),n.next=6,i.mutate((0,B.generateSerial)({actions:[(0,B.insertMutation)("links",{objects:[{type_id:10,from_id:null===d||void 0===d?void 0:d[0],to_id:null===d||void 0===d?void 0:d[1]},{type_id:11,from_id:null===d||void 0===d?void 0:d[0],to_id:null===d||void 0===d?void 0:d[2]},{type_id:12,from_id:null===d||void 0===d?void 0:d[0],to_id:null===d||void 0===d?void 0:d[3]},{type_id:13,from_id:e.id,to_id:null===d||void 0===d?void 0:d[0]}]})],name:"INSERT_RULE_LINKS"}));case 6:n.sent,a([].concat((0,l.Z)(u),[d[0]]));case 8:case"end":return n.stop()}}),n)}))),children:"+ rule"})})]})})}var q=t(71267),U=t(17187),H=(0,Z.createContext)(new U.EventEmitter);function Y(){return(0,Z.useContext)(H)}function G(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function J(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?G(Object(t),!0).forEach((function(e){(0,p.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function Q(n){var e,t,i,r,o,l,u=n.link,a=(0,m.x)(),p=Dn(),h=(0,f.Z)(p,2),x=(h[0],h[1],Y()),_=zn(),g=(0,f.Z)(_,2),j=g[0],k=g[1],w=(0,Z.useCallback)(function(){var n=(0,c.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.mutate((0,S.T8)(e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]),C=(0,Z.useCallback)(function(){var n=(0,c.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.mutate((0,S.Yw)(e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]),E=(0,v.m)(S.Ar,{variables:{where:{type_id:{_in:[10,11,12,8,7]},_or:[{from_id:{_eq:u.id}},{in:{from_id:{_eq:u.id}}},{from:{in:{from_id:{_eq:u.id}}}}]}}}),I=(0,Z.useMemo)((function(){var n;return function(n){for(var e={},t={},i=[],r=0;r<n.length;r++){var o=J(J({},n[r]),{},{in:[],out:[],inByType:{},outByType:{}});t[o.id]=o,e[o.type_id]=e[o.type_id]||[],e[o.type_id].push(o),i.push(o)}for(var l=0;l<i.length;l++){var u=i[l];t[u.type_id]&&(u.type=t[u.type_id]),t[u.from_id]&&(u.from=t[u.from_id],t[u.from_id].out.push(u),t[u.from_id].outByType[u.type_id]=t[u.from_id].outByType[u.type_id]||[],t[u.from_id].outByType[u.type_id].push(u)),t[u.to_id]&&(u.to=t[u.to_id],t[u.to_id].in.push(u),t[u.to_id].inByType[u.type_id]=t[u.to_id].inByType[u.type_id]||[],t[u.to_id].inByType[u.type_id].push(u))}return{links:i,types:e,byId:t}}((null===E||void 0===E||null===(n=E.data)||void 0===n?void 0:n.links)||[])}),[E]),P=(0,Z.useCallback)((function(){x.removeAllListeners("rule-insert-subject"),x.removeAllListeners("rule-insert-objects"),x.removeAllListeners("rule-insert-actions")}),[]);return(0,Z.useEffect)((function(){return function(){P()}}),[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(T.Z,{children:["subjects",(0,d.jsx)(D.Z,{color:"rule-insert-subject"===j?"primary":"default",onClick:function(){"rule-insert-subject"===j?(P(),k("")):(P(),x.once("rule-insert-subject",(function(n){var e,t,i=null===I||void 0===I||null===(e=I.types)||void 0===e||null===(t=e[10])||void 0===t?void 0:t[0];i&&w({type_id:8,from_id:i.to_id,to_id:n.id}),k("")})),k("rule-insert-subject"))},children:(0,d.jsx)(b.Z,{})})]}),(0,d.jsx)("div",{children:(0,y.flatten)(null===I||void 0===I||null===(e=I.types)||void 0===e||null===(t=e[10])||void 0===t?void 0:t.map((function(n){var e,t;return null===(e=n.to.outByType)||void 0===e||null===(t=e[8])||void 0===t?void 0:t.map((function(n){return(0,d.jsx)(q.Z,{label:n.to_id,onDelete:function(){C(n.id)}})}))})))}),(0,d.jsxs)(T.Z,{children:["objects",(0,d.jsx)(D.Z,{color:"rule-insert-objects"===j?"primary":"default",onClick:function(){"rule-insert-objects"===j?(P(),k("")):(P(),x.once("rule-insert-objects",(function(n){var e,t,i=null===I||void 0===I||null===(e=I.types)||void 0===e||null===(t=e[11])||void 0===t?void 0:t[0];i&&w({type_id:8,from_id:i.to_id,to_id:n.id}),k("")})),k("rule-insert-objects"))},children:(0,d.jsx)(b.Z,{})})]}),(0,d.jsx)("div",{children:(0,y.flatten)(null===I||void 0===I||null===(i=I.types)||void 0===i||null===(r=i[11])||void 0===r?void 0:r.map((function(n){var e,t;return null===(e=n.to.outByType)||void 0===e||null===(t=e[8])||void 0===t?void 0:t.map((function(n){return(0,d.jsx)(q.Z,{label:n.to_id,onDelete:function(){C(n.id)}})}))})))}),(0,d.jsxs)(T.Z,{children:["actions",(0,d.jsx)(D.Z,{color:"rule-insert-actions"===j?"primary":"default",onClick:function(){"rule-insert-actions"===j?(P(),k("")):(P(),x.once("rule-insert-actions",(function(n){var e,t,i=null===I||void 0===I||null===(e=I.types)||void 0===e||null===(t=e[12])||void 0===t?void 0:t[0];i&&w({type_id:8,from_id:i.to_id,to_id:n.id}),k("")})),k("rule-insert-actions"))},children:(0,d.jsx)(b.Z,{})})]}),(0,d.jsx)("div",{children:(0,y.flatten)(null===I||void 0===I||null===(o=I.types)||void 0===o||null===(l=o[12])||void 0===l?void 0:l.map((function(n){var e,t;return null===(e=n.to.outByType)||void 0===e||null===(t=e[8])||void 0===t?void 0:t.map((function(n){return(0,d.jsx)(q.Z,{label:n.to_id,onDelete:function(){C(n.id)}})}))})))})]})}function K(n){var e,t,i,r,o,l=n.link,u=(0,m.x)(),a=(0,Z.useCallback)((0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.mutate((0,S.hJ)(l.id,""));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),[l]),f=(0,W.Z)(function(){var n=(0,c.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.mutate((0,S.Cl)(l.string.id,e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),1e3),p=(0,Z.useCallback)((0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.mutate((0,S.fl)(l.string.id));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),[null===l||void 0===l||null===(e=l.string)||void 0===e?void 0:e.id]),v=(0,Z.useCallback)((0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.mutate((0,S.y1)(l.id,0));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),[l]),h=(0,W.Z)(function(){var n=(0,c.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.mutate((0,S.kv)(l.number.id,e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),1e3),x=(0,Z.useCallback)((0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.mutate((0,S.Hn)(l.number.id));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),[null===l||void 0===l||null===(t=l.number)||void 0===t?void 0:t.id]),_=(0,Z.useCallback)((0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.mutate((0,S.TA)(l.id,""));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),[l]),b=(0,W.Z)(function(){var n=(0,c.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.mutate((0,S.oi)(l.bool_exp.id,e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),1e3),j=(0,Z.useCallback)((0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.mutate((0,S.Fp)(l.bool_exp.id));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),[null===l||void 0===l||null===(i=l.bool_exp)||void 0===i?void 0:i.id]),y=(0,Z.useState)(!1);y[0],y[1];return(0,d.jsxs)(N.Z,{children:[(0,d.jsx)(O.Z,{children:(0,d.jsxs)(T.Z,{children:[null===l||void 0===l?void 0:l.id," ",null===l||void 0===l||null===(r=l.type)||void 0===r||null===(o=r.string)||void 0===o?void 0:o.value]})}),(0,d.jsx)(L.Z,{children:(0,d.jsxs)(R.Z,{container:!0,spacing:1,children:[1===(null===l||void 0===l?void 0:l.id)&&(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsx)(V,{link:l})}),14===(null===l||void 0===l?void 0:l.type_id)&&(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsx)($,{link:l})}),9===(null===l||void 0===l?void 0:l.type_id)&&(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsx)(Q,{link:l})}),(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsx)(X.Z,{})}),(0,d.jsx)(R.Z,{item:!0,xs:12,children:null!==l&&void 0!==l&&l.bool_exp?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(z.Z,{label:"bool_exp",variant:"outlined",size:"small",fullWidth:!0,defaultValue:l.bool_exp.gql||"",InputProps:{endAdornment:(0,d.jsx)(A.Z,{position:"end",children:(0,d.jsx)(D.Z,{onClick:function(){return j()},children:(0,d.jsx)(g.Z,{})})})},onChange:l.bool_exp.id?function(){var n=(0,c.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b(e.target.value);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}():null})}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(M.Z,{size:"small",variant:"outlined",fullWidth:!0,onClick:function(){return _()},children:"+ bool_exp"})})}),(0,d.jsx)(R.Z,{item:!0,xs:12,children:null!==l&&void 0!==l&&l.string?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(z.Z,{label:"string",variant:"outlined",size:"small",fullWidth:!0,defaultValue:l.string.value||"",InputProps:{endAdornment:(0,d.jsx)(A.Z,{position:"end",children:(0,d.jsx)(D.Z,{onClick:function(){return p()},children:(0,d.jsx)(g.Z,{})})})},onChange:l.string.id?function(){var n=(0,c.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:f(e.target.value);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}():null})}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(M.Z,{size:"small",variant:"outlined",fullWidth:!0,onClick:function(){return a()},children:"+ string"})})}),(0,d.jsx)(R.Z,{item:!0,xs:12,children:null!==l&&void 0!==l&&l.number?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(z.Z,{label:"number",variant:"outlined",size:"small",fullWidth:!0,defaultValue:l.number.value||"",InputProps:{endAdornment:(0,d.jsx)(A.Z,{position:"end",children:(0,d.jsx)(D.Z,{onClick:function(){return x()},children:(0,d.jsx)(g.Z,{})})})},onChange:l.number.id?function(){var n=(0,c.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:h(+e.target.value);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}():null})}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(M.Z,{size:"small",variant:"outlined",fullWidth:!0,onClick:function(){return v()},children:"+ number"})})})]})})]})}var nn=t(54192),en=t(41120),tn=t(79895),rn=t(24837),on=t(28896),ln=t(19702),un=t(31230),an=t(9669),sn=t.n(an),cn=t(5152),dn=t(61193),fn=t.n(dn),pn=t(159),vn=t(29895),hn=t(40616),mn=t(33681),xn=t(80413),_n=t(41664),bn=t(34155),gn=function(n){return sn().post("".concat(bn.env.NEXT_PUBLIC_DEEPLINKS_SERVER,"/api/deeplinks"),n).then(console.log,console.log)};function jn(){return(0,x.useLocalStore)("dc-connected",!1)}function yn(){return(0,x.useLocalStore)("dc-path","")}function kn(){(0,m.x)();var n=jn(),e=(0,f.Z)(n,2),t=(e[0],e[1]),i=(0,Z.useState)(""),r=i[0],o=i[1];return{operation:r,call:(0,Z.useCallback)(function(){var n=(0,c.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(e.operation),["reset","sleep"].includes(e.operation)&&t(!1),n.next=4,gn(e);case 4:["run"].includes(e.operation)&&t(!0),o("");case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[])}}var Zn=Z.memo((function(n){(0,hn.Z)(n);var e=jn(),t=(0,f.Z)(e,2),i=(t[0],t[1],kn()),r=i.call,o=i.operation,l=(0,pn.Z)(),u=yn(),a=(0,f.Z)(u,2),p=a[0],v=a[1],h=(0,xn.useApolloClientRegenerator)().regenerate;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(R.Z,{container:!0,spacing:1,style:{padding:l.spacing(3),width:400},children:[(0,d.jsx)(R.Z,{item:!0,xs:12,component:T.Z,align:"center",children:(0,d.jsx)("img",{src:"/logo.png",style:{width:100}})}),(0,d.jsx)(R.Z,{item:!0,xs:12,component:T.Z,align:"center",variant:"h3",children:"Deep.Case"}),(0,d.jsxs)(R.Z,{item:!0,xs:12,component:T.Z,align:"center",children:["in ",(0,d.jsx)("b",{children:"deep pre alpha"})," version"]}),(0,d.jsx)(R.Z,{item:!0,xs:12,component:T.Z,align:"center",variant:"caption",children:"Some of the functionality has not yet been translated by our programmers from deep space of wet dreams."}),(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsxs)(Rn,{style:{padding:l.spacing(1)},children:[(0,d.jsx)(z.Z,{fullWidth:!0,variant:"outlined",placeholder:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin",value:p,onChange:function(n){return v(n.target.value)}}),(0,d.jsxs)(T.Z,{children:["Please enter your $PATH env var from terminal. ",(0,d.jsx)(T.Z,{component:_n.default,href:"https://github.com/deepcase/deepcase/issues/56",children:"issue"})]}),(0,d.jsx)(Rn,{style:{padding:l.spacing(1)},children:(0,d.jsx)(T.Z,{component:"pre",color:"primary",children:"echo $PATH;"})})]})}),(0,d.jsxs)(R.Z,{item:!0,xs:12,children:[(0,d.jsx)(M.Z,{disabled:!!o||!p,size:"small",variant:"outlined",fullWidth:!0,onClick:(0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({operation:"run",envs:{PATH:p}});case 2:h();case 3:case"end":return n.stop()}}),n)}))),children:"run engine"}),(0,d.jsx)(mn.Z,{variant:"run"===o?"indeterminate":"determinate",value:p?100:0})]}),(0,d.jsxs)(R.Z,{item:!0,xs:12,children:[(0,d.jsx)(M.Z,{disabled:!!o||!p,size:"small",variant:"outlined",fullWidth:!0,onClick:(0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({operation:"reset",envs:{PATH:p}});case 2:h();case 3:case"end":return n.stop()}}),n)}))),children:"reset engine"}),(0,d.jsx)(mn.Z,{variant:"reset"===o?"indeterminate":"determinate",value:p?100:0})]})]})})})),wn=Z.memo((function(n){(0,hn.Z)(n);var e=jn(),t=(0,f.Z)(e,2),i=(t[0],t[1],yn()),r=(0,f.Z)(i,2),o=r[0],l=(r[1],kn().call),u=(0,Z.useState)(""),a=(u[0],u[1],(0,xn.useApolloClientRegenerator)().regenerate);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(rn.Z,{variant:"outlined",children:(0,d.jsx)(M.Z,{onClick:(0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l({operation:"sleep",envs:{PATH:o}});case 2:a();case 3:case"end":return n.stop()}}),n)}))),children:"sleep"})})})})),Cn=t(34155);function Sn(){var n=(0,u.Z)(["\n              #","\n              ","\n            "]);return Sn=function(){return n},n}function En(){var n=(0,u.Z)(["subscription ",""]);return En=function(){return n},n}function In(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function Pn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?In(Object(t),!0).forEach((function(e){(0,p.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):In(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var Nn=(0,cn.default)((function(){return Promise.all([t.e(126),t.e(501),t.e(682)]).then(t.bind(t,43682)).then((function(n){return n.Graphiql}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[43682]},modules:["index.tsx -> ../imports/graphiql"]}}),On={transition:"all 0.5s ease",transform:"scale(1)","&:hover":{transform:"scale(1.01)"}},Tn=function(n){return Pn({position:"relative",transition:"all 1s ease"},n)},Ln=(0,en.Z)((function(n){var e,t,i,r;return{"@global":{body:{backgroundColor:null===n||void 0===n||null===(e=n.palette)||void 0===e||null===(t=e.background)||void 0===t?void 0:t.default}},"@keyframes deeplinksBackground":{from:{backgroundSize:"0.5em 0.5em"},to:{backgroundSize:"3em 3em"}},root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:null===n||void 0===n||null===(i=n.palette)||void 0===i||null===(r=i.background)||void 0===r?void 0:r.default,backgroundImage:"linear-gradient(#202a38 .1em, transparent .1em), linear-gradient(90deg, #202a38 .1em, transparent .1em)",overflow:"hidden",animation:"5s $deeplinksBackground ease"},overlay:{zIndex:1,position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%",display:"grid",gridTemplateRows:"max-content auto max-content",pointerEvents:"none"},top:{margin:"16px 16px 0 16px",boxSizing:"border-box"},topPaper:function(e){var t=e.connected;return Pn(Pn({pointerEvents:"all",boxSizing:"border-box",padding:n.spacing(1)},Tn({top:t?0:-500})),On)},right:{margin:"16px 0 16px 16px",boxSizing:"border-box",position:"relative"},rightPaper:function(e){var t=e.connected;return Pn(Pn({position:"absolute",top:0,right:0,overflow:"scroll",width:300,height:"100%",padding:n.spacing(1),pointerEvents:"all",float:"right",boxSizing:"border-box"},Tn({right:t?0:-1e3})),On)},bottom:{width:"100%"},bottomPaper:function(n){var e=n.connected;return Pn({width:"100%",height:"100%",pointerEvents:"all",overflow:"auto",boxSizing:"border-box"},Tn({bottom:e?0:-1e3}))},backdrop:{zIndex:n.zIndex.drawer+1}}}));function Rn(n){var e=(0,Z.useState)(!1),t=e[0],i=e[1];return(0,d.jsx)(tn.Z,Pn({onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},elevation:t?3:1},n))}function zn(){return(0,x.useLocalStore)("dc-dg-operation","")}var An=Z.memo((function(){var n=(0,C.aC)(),e=zn(),t=(0,f.Z)(e,2),i=t[0],r=t[1];return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(rn.Z,{variant:"outlined",children:[(0,d.jsx)(M.Z,{disabled:!0,children:n.linkId||"admin"}),(0,d.jsx)(M.Z,{color:"auth"===i?"primary":"default",onClick:function(){return r("auth"===i?"":"auth")},children:"login"}),(0,d.jsx)(M.Z,{onClick:function(){return n.setLinkId(0)},children:"logout"})]})})}));function Dn(){return(0,_.useQueryStore)("dc-dg-sl",[])}function Mn(){var n=(0,C.aC)(),e=((0,pn.Z)(),(0,Z.useState)({width:800,height:500})),i=e[0],u=e[1],a=(0,Z.useState)(300),p=a[0],h=a[1],x=(0,Z.useState)(),k=x[0],E=x[1],I=(0,_.useQueryStore)("show-types",!1),P=(0,f.Z)(I,2),N=P[0],O=P[1],T=(0,_.useQueryStore)("show-mp",!1),L=(0,f.Z)(T,2),z=L[0],A=L[1],W=(0,Z.useState)(!1),X=W[0],B=W[1],V=Dn(),F=(0,f.Z)(V,2),$=F[0],q=F[1],U=(0,_.useQueryStore)("dc-dg-ins",{}),H=(0,f.Z)(U,2),G=H[0],J=H[1],Q=zn(),nn=(0,f.Z)(Q,2),en=nn[0],tn=nn[1],an=jn(),cn=(0,f.Z)(an,2),dn=cn[0],hn=(cn[1],Ln({connected:dn})),mn=(0,m.x)();(0,Z.useEffect)((function(){t.g.axios=sn();var n=vn.dV.getPlatform();"web"===n?(console.log("platform is web, connection to server to ".concat(Cn.env.NEXT_PUBLIC_DEEPLINKS_SERVER,"/api/deeplinks")),sn().post("".concat(Cn.env.NEXT_PUBLIC_DEEPLINKS_SERVER,"/api/deeplinks"),{abc:123}).then(console.log,console.log)):"electron"===n?(console.log("platform is electron, connection to server to ".concat(Cn.env.NEXT_PUBLIC_DEEPLINKS_SERVER,"/api/deeplinks")),sn().post("".concat(Cn.env.NEXT_PUBLIC_DEEPLINKS_SERVER,"/api/deeplinks"),{def:234}).then(console.log,console.log)):console.log("platform is not detected, connection to server lost")}),[]);var xn=(0,Z.useCallback)(function(){var n=(0,c.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mn.mutate((0,S.T8)(e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]),_n=(0,Z.useCallback)(function(){var n=(0,c.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mn.mutate((0,S.Yw)(e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]),bn=(0,Z.useState)((0,un.default)(En(),S.$j)),gn=bn[0],yn=bn[1],kn=(0,Z.useState)({}),In=kn[0],On=kn[1],Tn=(0,v.m)(gn,{variables:In}),Mn=(0,Z.useMemo)((function(){for(var n,e=[],t=[],i=(null===Tn||void 0===Tn||null===(n=Tn.data)||void 0===n?void 0:n.links)||[],r=0;r<i.length;r++){var o=i[r];if(e.push({id:o.id,link:o}),N&&o.type_id&&t.push({id:"type--".concat(o.id),source:o.id,target:o.type_id,link:o,type:"type",color:"#ffffff"}),z)for(var l=0;l<o._by_item.length;l++){var u=o._by_item[l];t.push({id:"by-item--".concat(u.id),source:o.id,target:u.path_item_id,link:o,pos:u,type:"by-item",color:"#ffffff"})}}for(var a=0;a<i.length;a++){var s=i[a];t.push({id:"from--".concat(s.id),source:s.id,target:s.from_id||s.id,link:s,type:"from",color:"#a83232"}),t.push({id:"to--".concat(s.id),source:s.id,target:s.to_id||s.id,link:s,type:"to",color:"#32a848"})}return{nodes:e,links:t}}),[Tn]),Wn=dn?Mn:{nodes:[],links:[]},Xn=(0,Z.useRef)(),Bn=(0,Z.useRef)(),Vn=Y(),Fn=(0,j.S)((function(e){if("auth"===en)n.setLinkId(+e.link.id),tn("");else if("delete"===en)_n(e.link.id),tn("");else if("from"===en)J(Pn(Pn({},G),{},{from:e.link.id})),tn("");else if("to"===en)J(Pn(Pn({},G),{},{to:e.link.id})),tn("");else if("type"===en)J(Pn(Pn({},G),{},{type:e.link.id})),tn("");else if(X){var t,i;E({top:null===Xn||void 0===Xn||null===(t=Xn.current)||void 0===t?void 0:t.clientY,left:null===Xn||void 0===Xn||null===(i=Xn.current)||void 0===i?void 0:i.clientX,link:e.link})}else en?Vn.emit(en,e.link):$.find((function(n){return n===e.link.id}))||q([].concat((0,l.Z)($),[e.link.id]))}),500);Bn.current=Fn;var $n=(0,Z.useRef)(),qn=(0,Z.useCallback)((function(n){var e=n.k,t=n.x,i=n.y;if($n.current){var r=3*e;$n.current.style["background-position"]="".concat(t,"px ").concat(i,"px"),$n.current.style["background-size"]="".concat(r,"em ").concat(r,"em")}}),[]);return(0,d.jsxs)("div",{ref:$n,className:hn.root,onMouseMove:function(n){Xn.current={clientX:n.clientX,clientY:n.clientY}},children:[(0,d.jsx)(w.ZP,{handleWidth:!0,handleHeight:!0,onResize:function(n,e){return u({width:n,height:e})}}),(0,d.jsx)(on.ZP,{open:!!k,anchorReference:"anchorPosition",anchorPosition:k,onClose:function(){return E(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:!!k&&(0,d.jsxs)("div",{style:{position:"relative"},children:[(0,d.jsx)(K,{link:k.link}),(0,d.jsx)(D.Z,{size:"small",style:{position:"absolute",top:6,right:6},onClick:function(){q([].concat((0,l.Z)($),[k.link.id])),E(null)},children:(0,d.jsx)(b.Z,{})})]})}),[(0,d.jsx)(o,{Component:r,graphData:Wn,linkAutoColorBy:function(n){return n.color||"#fff"},linkOpacity:1,linkWidth:.5,linkDirectionalArrowLength:3.5,linkDirectionalArrowRelPos:1,linkLabel:function(n){var e,t,i,r;return"by-item"===n.type?"".concat(null===n||void 0===n||null===(e=n.pos)||void 0===e?void 0:e.item_id,"/").concat(null===n||void 0===n||null===(t=n.pos)||void 0===t?void 0:t.path_item_id,"/").concat(null===n||void 0===n||null===(i=n.pos)||void 0===i?void 0:i.path_item_depth,"(").concat(null===n||void 0===n||null===(r=n.pos)||void 0===r?void 0:r.root_id,")"):""},linkCurvature:function(n){return"from"===n.type?.25:"to"===n.type?-.25:0},linkLineDash:function(n){return"by-item"===n.type&&[5,5]},width:i.width,height:i.height,nodeCanvasObject:function(n,e,t){var i,r,o,l,u,a,s,c,d,f,p,v,h,m,x=null===$||void 0===$?void 0:$.find((function(e){var t;return e===(null===n||void 0===n||null===(t=n.link)||void 0===t?void 0:t.id)})),_=[n.id];null!==n&&void 0!==n&&null!==(i=n.link)&&void 0!==i&&null!==(r=i.type)&&void 0!==r&&null!==(o=r.string)&&void 0!==o&&o.value&&_.push("".concat(null===n||void 0===n||null===(l=n.link)||void 0===l||null===(u=l.type)||void 0===u||null===(a=u.string)||void 0===a?void 0:a.value)),null!==n&&void 0!==n&&null!==(s=n.link)&&void 0!==s&&null!==(c=s.string)&&void 0!==c&&c.value&&_.push("string: ".concat(null===n||void 0===n||null===(d=n.link)||void 0===d||null===(f=d.string)||void 0===f?void 0:f.value)),null!==n&&void 0!==n&&null!==(p=n.link)&&void 0!==p&&null!==(v=p.number)&&void 0!==v&&v.value&&_.push("number: ".concat(null===n||void 0===n||null===(h=n.link)||void 0===h||null===(m=h.number)||void 0===m?void 0:m.value));var b=_,g=12/t;e.font="".concat(g,"px Sans-Serif");for(var j=0,y=0;y<b.length;y++)j=e.measureText(_).width>j?e.measureText(_).width:j;var k=[j,g].map((function(n){return n+.2*g}));e.fillStyle="rgba(0,0,0, 0)",e.fillRect(n.x-k[0]/2,n.y-k[1]/2,j,g*b.length),e.textAlign="center",e.textBaseline="middle",e.fillStyle=x?"#fff":"#707070";for(y=0;y<b.length;y++)e.fillText(b[y],n.x,n.y+12*y/t)},onNodeClick:function(n){Bn.current(n)},onNodeHover:function(n){},onZoom:qn},JSON.stringify(Wn))],(0,d.jsxs)("div",{className:hn.overlay,children:[(0,d.jsx)("div",{className:hn.top,children:(0,d.jsx)(Rn,{className:hn.topPaper,children:(0,d.jsxs)(R.Z,{container:!0,justify:"space-between",children:[(0,d.jsx)(R.Z,{item:!0,children:(0,d.jsxs)(R.Z,{container:!0,spacing:1,children:[(0,d.jsx)(R.Z,{item:!0,children:(0,d.jsxs)(rn.Z,{variant:"outlined",children:[(0,d.jsx)(M.Z,{color:N?"primary":"default",onClick:function(){return O(!N)},children:"types"}),(0,d.jsx)(M.Z,{color:z?"primary":"default",onClick:function(){return A(!z)},children:"mp"}),(0,d.jsx)(M.Z,{color:X?"primary":"default",onClick:function(){return B(!X)},children:"select"})]})}),(0,d.jsx)(R.Z,{item:!0,children:(0,d.jsxs)(rn.Z,{variant:"outlined",children:[(0,d.jsx)(M.Z,{onClick:(0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,xn({from_id:G.from||0,to_id:G.to||0,type_id:G.type||0});case 2:case"end":return n.stop()}}),n)}))),children:(0,d.jsx)(b.Z,{})}),(0,d.jsxs)(M.Z,{style:{color:"#a83232"},color:"from"===en?"primary":"default",onClick:function(){return tn("from"===en?"":"from")},children:["from: ",null===G||void 0===G?void 0:G.from]}),(0,d.jsxs)(M.Z,{style:{color:"#32a848"},color:"to"===en?"primary":"default",onClick:function(){return tn("to"===en?"":"to")},children:["to: ",null===G||void 0===G?void 0:G.to]}),(0,d.jsxs)(M.Z,{color:"type"===en?"primary":"default",onClick:function(){return tn("type"===en?"":"type")},children:["type: ",null===G||void 0===G?void 0:G.type]}),(0,d.jsx)(M.Z,{onClick:function(){return J({})},children:(0,d.jsx)(g.Z,{})})]})}),(0,d.jsx)(R.Z,{item:!0,children:(0,d.jsx)(rn.Z,{variant:"outlined",children:(0,d.jsx)(M.Z,{color:"delete"===en?"primary":"default",onClick:function(){return tn("delete"===en?"":"delete")},children:"delete"})})}),(0,d.jsx)(R.Z,{item:!0,children:(0,d.jsx)(An,{})})]})}),(0,d.jsx)(R.Z,{item:!0,children:(0,d.jsx)(R.Z,{container:!0,spacing:1,children:(0,d.jsx)(R.Z,{item:!0,children:(0,d.jsx)(wn,{})})})})]})})}),(0,d.jsx)("div",{className:hn.right,children:(0,d.jsx)(Rn,{className:hn.rightPaper,children:(0,d.jsxs)(R.Z,{container:!0,spacing:1,children:[(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsx)(M.Z,{variant:"outlined",fullWidth:!0,onClick:function(){return q([])},children:"clear"})}),(0,d.jsx)(R.Z,{item:!0,xs:12,children:(0,d.jsx)(K,{link:{id:1,type:1}})}),$.map((function(n){var e,t=((null===Tn||void 0===Tn||null===(e=Tn.data)||void 0===e?void 0:e.links)||[]).find((function(e){return e.id===n}));return(0,d.jsxs)(R.Z,{item:!0,xs:12,style:{position:"relative"},children:[(0,d.jsx)(K,{link:t}),(0,d.jsx)(D.Z,{size:"small",style:{position:"absolute",top:6,right:6},onClick:function(){return q($.filter((function(e){return e!==n})))},children:(0,d.jsx)(g.Z,{})})]},n)}))]})})}),(0,d.jsx)("div",{className:hn.bottom,style:{height:p},children:(0,d.jsx)(Rn,{className:hn.bottomPaper,elevation:1,children:(0,d.jsx)(Nn,{defaultQuery:S.$j,onVisualize:function(n,e){yn((0,un.default)(Sn(),(0,y.random)(0,9999),n)),On(e)}})})})]}),!!dn&&(0,d.jsx)(fn(),{axis:"y",handle:".handle",defaultPosition:{x:0,y:0},position:null,scale:1,onStart:function(n){},onDrag:function(n){},onStop:function(n){h(window.innerHeight-(null===n||void 0===n?void 0:n.pageY)-10)},children:(0,d.jsx)("div",{style:{position:"fixed",zIndex:10,bottom:300,left:0,width:"100%",height:10,userSelect:"none"},children:(0,d.jsx)("div",{className:"handle",style:{height:"100%",width:"100%",position:"relative"},children:(0,d.jsx)("div",{style:{position:"absolute",left:"calc(50% - 30px)",top:"calc(50% - 3px)",width:60,height:6,backgroundColor:"grey",borderRadius:7}})})})}),(0,d.jsx)(ln.Z,{className:hn.backdrop,open:!dn,children:(0,d.jsx)(Rn,{children:(0,d.jsx)(Zn,{})})})]})}function Wn(){var n=(0,h.useTokenController)(),e=(0,f.Z)(n,2),t=e[0],i=(e[1],(0,m.x)());return(0,d.jsx)(d.Fragment,{children:!!t&&!!i.jwt_token&&[(0,d.jsx)(Mn,{},t)]})}function Xn(){return(0,d.jsx)(nn.zt,{children:(0,d.jsx)(Wn,{})})}},45301:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(22982)}])}},function(n){n.O(0,[774,737,662,446,493,888,179],(function(){return e=45301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);